AnimatorJS=function(){if(!this.document.createElement("div").animate){let t=document.createElement("script");t.src="https://rawgit.com/web-animations/web-animations-js/master/web-animations.min.js",document.head?document.head.appendChild(t):document.addEventListener("load",()=>{document.head.appendChild(t)})}function t(t,e){this._options=e,this._keyframes=t}function e(t,e,i){this._keyframes=t,this._options=e,this._element=i,this._Animation=null,this._currentTime=null,this._effect=null,this._finished=null,this._id="",this._playState=null,this._playbackRate=1,this._ready=!1,this._startTime=performance.now(),this._timeline=null,this._oncancel=null,this._onfinish=null,this._bind_isglobal=!1}t.prototype.assign=function(t){return new e(this._keyframes,this._options,t)},Object.defineProperty(e.prototype,"currentTime",{set(t){return this.set("currentTime",t)},get(){return this.get("currentTime")}}),Object.defineProperty(e.prototype,"effect",{set(t){return this.set("effect",t)},get(){return this.get("effect")}}),Object.defineProperty(e.prototype,"finished",{get(){return this.get("finished")}}),Object.defineProperty(e.prototype,"id",{set(t){return this.set("id",t)},get(){return this.get("id")}}),Object.defineProperty(e.prototype,"pending",{get(){return this.get("pending")}}),Object.defineProperty(e.prototype,"playState",{get(){return this.get("playState")}}),Object.defineProperty(e.prototype,"playbackRate",{set(t){return this.set("playbackRate",t)},get(){return this.get("playbackRate")}}),Object.defineProperty(e.prototype,"ready",{get(){return this.get("ready")}}),Object.defineProperty(e.prototype,"startTime",{set(t){return this.set("startTime",t)},get(){return this.get("startTime")}}),Object.defineProperty(e.prototype,"timeline",{set(t){return this.set("timeline",t)},get(){return this.get("timeline")}}),Object.defineProperty(e.prototype,"oncancel",{set(t){return this.set("oncancel",t)},get(){return this.get("oncancel")}}),Object.defineProperty(e.prototype,"onfinish",{set(t){return this.set("onfinish",t)},get(){return this.get("onfinish")}}),e.prototype.get=function(t){return this.exists()?this._Animation[t]:this["_"+t]},e.prototype.set=function(t,e){return this.exists()?this._Animation[t]=e:this["_"+t]=e},e.prototype.exists=function(){return!!this._Animation},e.prototype.cancel=function(){this.exists()&&this._Animation.cancel()},e.prototype.finish=function(){this.exists()&&this._Animation.finish()},e.prototype.pause=function(){this.exists()&&this._Animation.pause()},e.prototype.play=function(){this.exists()?this._Animation.play():(this._Animation=this._element.animate(this._keyframes,this._options),this._startTime=performance.now(),this._Animation.id=this._id,this._Animation.play(),this._Animation.playbackRate=this._playbackRate,this._Animation.startTime=this._startTime,this._Animation.timeline=this._timeline,this._Animation.oncancel=this._oncancel,this._Animation.onfinish=this._onfinish,this._is_bound&&this.bind(this._bind_type,this._bind))},e.prototype.reverse=function(){this.exists()&&this._Animation.reverse()},e.prototype.updatePlaybackRate=function(t){this.exists()&&this._Animation.updatePlaybackRate(t)},e.prototype.bind=function(t,e,i){this._bind_isglobal=i,this.playbackRate=0,this._is_bound=!0,this._bind_type=t,this._bind=e,this._bound_call=(t=>{this._is_bound=!0,this.exists()&&(this.currentTime=this._bind(t,this))}),this._element&&this._bind_type&&this._bind_type&&!this._bound&&(this._bind_isglobal?this._element.addEventListener(t,this._bound_call):document.addEventListener(t,this._bound_call),this.play())};function i(t){this.Element=t,this.Animation=[],this.resetCurrent()}let n=Object.keys(document.createElement("div").style);0==n.length&&(n=Object.keys(document.createElement("div").style.__proto__));for(let t=0;t<n.length;t++){let e=n[t];i.prototype[e]=function(...t){return this.set(e,t.join(" ")),this}}return i.prototype.resetCurrent=function(){this.current={}},i.prototype.next=function(){return this.Animation.push(this.current),this.resetCurrent(),this},i.prototype.set=function(t,e){this.current[t]=e;for(let e=0;e<this.Animation.length;e++)this.Animation[e][t]||(this.Animation[e][t]="auto")},i.prototype.get=function(t){return this.current[t]},i.prototype.reset=function(){return this.Animation=[],this.resetCurrent(),this},i.prototype.valid=function(t){return void 0!=t},i.prototype.transform=function(t,e,i){let n=[];return this.valid(t)&&n.push(`translateX(${t}px)`),this.valid(e)&&n.push(`translateY(${e}px)`),this.valid(i)&&n.push(`translateZ(${i}px)`),this.set("transform",((this.get("transform")||"")+" "+n.join(" ")).trim()),this},i.prototype.rotate=function(t,e,i){let n=[];return this.valid(t)&&(this.valid(e)||this.valid(i)?n.push(`rotateX(${t}deg)`):n.push(`rotate(${t}deg)`)),this.valid(e)&&n.push(`rotateY(${e}deg)`),this.valid(i)&&n.push(`rotateZ(${i}deg)`),this.set("transform",((this.get("transform")||"")+" "+n.join(" ")).trim()),this},i.prototype.duration=function(t){return this.requireDuration=!0,this.set("duration",t),this},i.prototype.build=function(t=1e3){return Object.keys(this.current).length>0&&(this.Animation.push(this.current),this.resetCurrent()),this.updateDurationsForPlaying(t)},i.prototype.start=function(e,i={}){let n=this.build(e);return i.duration=e,this.itterationCount&&(i.iterations=this.itterationCount),this.Element?this.AnimationInstance=this.Element.animate(n,i):this.AnimationInstance=new t(n,i),this.AnimationInstance},i.prototype.render=function(i=1e3,n={}){let s=this.build(i);return n.duration=i,this.itterationCount&&(n.iterations=this.itterationCount),this.Element?this.AnimationInstance=new e(s,n,this.Element):this.AnimationInstance=new t(s,n),this.AnimationInstance},i.prototype.updateDurationsForPlaying=function(t){let e=0,i=Object.assign([],this.Animation);this.durationsCalculated=!0;for(let n=0;n<i.length;n++){let s=t/i.length-1;if(this.requireDuration&&!(s=i[n].duration))throw new Error("missing segment duration, if duration is used all segments need to have a duration");0===n&&i.length>1?(t-=i[1].duration||0,i[0].duration=0):i[n].duration=(e+=s)/t}return i},i.prototype.easing=function(t){return this.set("easing",t),this.set("animationTimingFunction",t),this},i.prototype.repeat=function(t){return this.itterationCount=t,this},i.prototype.bind=function(t,e){let i=this.render();return i.bind(t,e),i},Element.prototype.AnimatorJS=function(){return this.AnimatorJsInstance?this.AnimatorJsInstance:(this.AnimatorJsInstance=new i(this),this.AnimatorJsInstance)},Element.prototype.getAnimatorInstance=function(){if(this.AnimatorJsInstance)return this.AnimatorJsInstance;throw new Error("unable to get AnimatorJS Instance")},function(t){return new i(t)}}();